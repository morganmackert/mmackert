---
title: "Evaluating bee habitat provisioning within agricultural landscapes"
author: "Morgan Mackert"
date: "December 13, 2016"
output: html_document
---

View the bee data.
```{r bees, echo = FALSE}
setwd("C:/Users/Morgan/Documents/ISU/Semester 3/R/mmackert/Data")
simplebees <- read.csv("bees/working/simplebees.csv", header =T)
summary(simplebees)
```

View the plant data.
```{r plants, echo = FALSE}
setwd("C:/Users/Morgan/Documents/ISU/Semester 3/R/mmackert/Data")
simpleplants <- read.csv("plants/working/simpleplants.csv", header = T)
summary(simpleplants)
```

Use "lubridate" to fix date formats in both bee and plant data.
```{r lubridate}
library(lubridate)
simplebees$Date <- mdy(simplebees$Date)
simpleplants$Date <- mdy(simpleplants$Date)
```

Add column to simplebees and simpleplants denoting which taxon group they belong to.
```{r taxa}
simplebees$Taxa <- "Bees"
simpleplants$Taxa <- "Plants"
```

Name columns appropriately.
```{r naming}
names(simplebees) <- c("Date", "Site", "TotalBees", "Taxa")
names(simpleplants) <- c("Date", "Site", "TotalPlants", "Taxa")
head(simplebees)
head(simpleplants)
```

Aggregate by "Site" and calculate mean and standard deviation of bees collected at each site.
```{r aggregate bees}
beesbysite <- simplebees
beesbysitemean <- with(beesbysite, aggregate(TotalBees ~ Site, FUN = mean))
beesbysiteSD <- with(beesbysite, aggregate(TotalBees ~ Site, FUN = sd))
```

Combine the two bee data frames (mean/sd), delete extra columns, and rename them.
```{r combine bees}
beesbysitemeanSD <- cbind(beesbysitemean, beesbysiteSD)
beesbysitemeanSD <- beesbysitemeanSD[,-3]
beesbysitemeanSD$Taxa <- "Bees"
names(beesbysitemeanSD) <- c("Site", "Mean", "SD", "Taxa")
View(beesbysitemeanSD)
```

Aggregate by "Site" and calculate mean and standard deviation of plant species found at each site.
```{r aggregate plants}
plantsbysite <- simpleplants
plantsbysitemean <- with(plantsbysite, aggregate(TotalPlants ~ Site, FUN = mean))
plantsbysiteSD <- with(plantsbysite, aggregate(TotalPlants ~ Site, FUN = sd))
```

Combine the two plant data frames (mean/sd), delete extra columns, and rename them.
```{r combine plants}
plantsbysitemeanSD <- cbind(plantsbysitemean, plantsbysiteSD)
plantsbysitemeanSD <- plantsbysitemeanSD[,-3]
plantsbysitemeanSD$Taxa <- "Plants"
names(plantsbysitemeanSD) <- c("Site", "Mean", "SD", "Taxa")
```

Use "rbind" to combine "beesbysitemeanSD" and "plantsbysitemeanSD"
```{r rbind}
bindbeesandplants <- rbind(beesbysitemeanSD, plantsbysitemeanSD)
```

Left with one data frame with all necessary information. Woo! Move to BeesVsPlantsAnalysisScripts.
```{r view, eval = TRUE}
head(bindbeesandplants)
tail(bindbeesandplants)
```
